CREATE TABLE "DL_BORDERCONTROL"."VISAS" 
   (	"KEY_VALUE" VARCHAR2(32 CHAR) DEFAULT ON NULL SYS_GUID() NOT NULL ENABLE, 
	"INS_AT" DATE DEFAULT ON NULL sysdate NOT NULL ENABLE, 
	"DML_AT" TIMESTAMP (6) DEFAULT ON NULL systimestamp NOT NULL ENABLE, 
	"DML_BY" VARCHAR2(255 CHAR) DEFAULT ON NULL user NOT NULL ENABLE, 
	"DML_TYPE" VARCHAR2(1 CHAR) DEFAULT ON NULL 'I' NOT NULL ENABLE, 
	"VISA_TYPE" VARCHAR2(32 CHAR) NOT NULL ENABLE, 
	"VISA_NUMBER" VARCHAR2(32 CHAR), 
	"ISSUING_DATE" DATE, 
	"ISSUING_PLACE" VARCHAR2(255 CHAR), 
	"ADDITIONAL_INFO" VARCHAR2(255 CHAR), 
	"INS_BY" VARCHAR2(255 CHAR) DEFAULT ON NULL user NOT NULL ENABLE, 
	"INS_TERMINAL" VARCHAR2(32 CHAR) NOT NULL ENABLE, 
	"INS_BORDERPOST" VARCHAR2(32 CHAR) NOT NULL ENABLE, 
	"BORDERDOCUMENT" VARCHAR2(32 CHAR), 
	"VISA_IMAGE" BLOB, 
	"EXPIRY_DATE" DATE, 
	"PERSON" VARCHAR2(32 CHAR), 
	"APPLICANT_DATE" DATE, 
	"FROM_COUNTRY" VARCHAR2(32 CHAR), 
	"TRANS_VEHICLE" VARCHAR2(32 CHAR), 
	"TRANS_NUMBER" VARCHAR2(50 CHAR), 
	"STATUS" VARCHAR2(32 CHAR) DEFAULT ON NULL 'APPROVED' NOT NULL ENABLE, 
	"RELEASE_NOTE" VARCHAR2(2500 CHAR), 
	"CANCEL_NOTE" VARCHAR2(2500 CHAR), 
	"PAYMENT_STATUS" VARCHAR2(32 CHAR) DEFAULT ON NULL 'DONT_PAY' NOT NULL ENABLE, 
	"RECEIPT" VARCHAR2(32 CHAR), 
	"PERMIT_TYPE" VARCHAR2(255 CHAR), 
	"PERMIT_EXPIRY_DATE" DATE, 
	"INS_OFFICER" VARCHAR2(255 CHAR), 
	"STATUS_FEE_EXCEPTION" VARCHAR2(255 CHAR) DEFAULT ON NULL 'N' NOT NULL ENABLE, 
	"STATUS_NO_RECEIPT" VARCHAR2(255 CHAR) DEFAULT ON NULL 'N' NOT NULL ENABLE, 
	"STATUS_PRINT_FORM" VARCHAR2(255 CHAR) DEFAULT ON NULL 'N' NOT NULL ENABLE, 
	"BLACKLIST_RECORD" VARCHAR2(32 CHAR)
   ) 
  PARTITION BY RANGE ("INS_AT") INTERVAL (NUMTOYMINTERVAL(1 ,'MONTH')) 
 (PARTITION "P_BEFORE_2018"  VALUES LESS THAN (TO_DATE(' 2018-01-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN')) ) ;
  ALTER TABLE "DL_BORDERCONTROL"."VISAS" ADD CONSTRAINT "VISAS$PK" PRIMARY KEY ("KEY_VALUE")
  USING INDEX  ENABLE;
  ALTER TABLE "DL_BORDERCONTROL"."VISAS" ADD CONSTRAINT "VISAS$CHK00" CHECK (DML_TYPE in ('I'
                                                                                ,'U')) ENABLE;
  ALTER TABLE "DL_BORDERCONTROL"."VISAS" ADD CONSTRAINT "VISAS$CHK03" CHECK (status_fee_exception IN ('Y', 'N')) ENABLE;
  ALTER TABLE "DL_BORDERCONTROL"."VISAS" ADD CONSTRAINT "VISAS$CHK04" CHECK (status_no_receipt IN ('Y', 'N')) ENABLE;
  ALTER TABLE "DL_BORDERCONTROL"."VISAS" ADD CONSTRAINT "VISAS$CHK05" CHECK (status_print_form IN ('Y', 'N')) ENABLE;
  ALTER TABLE "DL_BORDERCONTROL"."VISAS" ADD CONSTRAINT "VISAS$CHK01" CHECK (status IN ('APPROVED', 'DECLINED', 'IN_PROGRESS', 'CANCELED')) ENABLE;
  ALTER TABLE "DL_BORDERCONTROL"."VISAS" ADD CONSTRAINT "VISAS$CHK02" CHECK (payment_status IN ('PAYED', 'NOT_YET_PAID', 'DONT_PAY')) ENABLE;
  ALTER TABLE "DL_BORDERCONTROL"."VISAS" ADD CONSTRAINT "VISAS$FK00" FOREIGN KEY ("VISA_TYPE")
	  REFERENCES "DL_COMMON"."VISA_TYPES" ("KEY_VALUE") ENABLE;
  ALTER TABLE "DL_BORDERCONTROL"."VISAS" ADD CONSTRAINT "VISAS$FK03" FOREIGN KEY ("BORDERDOCUMENT")
	  REFERENCES "DL_BORDERCONTROL"."BORDERDOCUMENTS" ("BRDDOCID") ENABLE;
  ALTER TABLE "DL_BORDERCONTROL"."VISAS" ADD CONSTRAINT "VISAS$FK04" FOREIGN KEY ("FROM_COUNTRY")
	  REFERENCES "DL_COMMON"."COUNTRIES" ("KEY_VALUE") ENABLE;
  ALTER TABLE "DL_BORDERCONTROL"."VISAS" ADD CONSTRAINT "VISAS$FK05" FOREIGN KEY ("TRANS_VEHICLE")
	  REFERENCES "DL_COMMON"."TRANS_VEHICLES" ("KEY_VALUE") ENABLE;
  ALTER TABLE "DL_BORDERCONTROL"."VISAS" ADD CONSTRAINT "VISAS$FK06" FOREIGN KEY ("PERSON")
	  REFERENCES "DL_BORDERCONTROL"."PERSON" ("KEY_VALUE") ENABLE;
  ALTER TABLE "DL_BORDERCONTROL"."VISAS" ADD CONSTRAINT "VISAS$FK07" FOREIGN KEY ("RECEIPT")
	  REFERENCES "DL_BORDERCONTROL"."FAF_FEES_AND_FINES" ("KEY_VALUE") ENABLE;
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."KEY_VALUE" IS 'Unique Identifier';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."INS_AT" IS 'Date of Insert';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."DML_AT" IS 'Date of last update';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."DML_BY" IS 'User who did the last update';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."DML_TYPE" IS 'DML Type: I = Insert, U = Update';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."VISA_TYPE" IS 'Foreign Key to Table DL_COMMON.VISA_TYPES';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."VISA_NUMBER" IS 'Column for Visa Number';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."ISSUING_DATE" IS 'Issuing Date';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."ISSUING_PLACE" IS 'Issuing Place';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."ADDITIONAL_INFO" IS 'Column for additional Information/Notes';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."INS_BY" IS 'User who insert the data';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."INS_TERMINAL" IS 'On which terminal was this row created/inserted';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."INS_BORDERPOST" IS 'On which borderpost was this row created/inserted';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."BORDERDOCUMENT" IS 'The borderdocument (passport, ...) that was used to request the visa and/or depends with the visa';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."VISA_IMAGE" IS 'Image of Visa';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."EXPIRY_DATE" IS 'Date till the Visa is valid (if no date is set the Visa is valid for an undefined period of time)';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."PERSON" IS 'FK DL_BORDERCONTROL.PERSON';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."APPLICANT_DATE" IS 'Application Date';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."FROM_COUNTRY" IS 'FK DL_COMMON.COUNTRIES';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."TRANS_VEHICLE" IS 'Transport Vehicle';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."TRANS_NUMBER" IS 'Number of the transport method the user came in (e.g. flight no)';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."STATUS" IS 'Status of the Visa entry (A.pproved, D.eclined, I.n Progress); A is set as default to provide downgrades in Visa logic';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."RELEASE_NOTE" IS 'Reason why the Visa was approved or declined';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."CANCEL_NOTE" IS 'Reason why the Visa was cancelled';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."PAYMENT_STATUS" IS 'Status of the payment that has to be made (P.ayed; N.ot yet but has to; D.on''t have to pay)';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."RECEIPT" IS 'Receipt number / connection to the payment functionality';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."PERMIT_TYPE" IS 'Number of Permit Days';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."PERMIT_EXPIRY_DATE" IS 'Date of Permit expiry';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."INS_OFFICER" IS 'Username of the user who inserted this dataset';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."STATUS_FEE_EXCEPTION" IS 'Traveler don''t have to pay any fee';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."STATUS_NO_RECEIPT" IS 'The officer don''t want to print a receipt';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."STATUS_PRINT_FORM" IS 'The officer wants (or don''t want) to print the form / Visa';
   COMMENT ON COLUMN "DL_BORDERCONTROL"."VISAS"."BLACKLIST_RECORD" IS 'Record ID of Blacklist entry';
   COMMENT ON TABLE "DL_BORDERCONTROL"."VISAS"  IS 'Used in BmBS, VOA, Re-Entry';
  CREATE INDEX "DL_BORDERCONTROL"."VISAS$IX00" ON "DL_BORDERCONTROL"."VISAS" ("VISA_TYPE") 
   LOCAL
 (PARTITION "P_BEFORE_2018" ) ;
CREATE INDEX "DL_BORDERCONTROL"."VISAS$IX01" ON "DL_BORDERCONTROL"."VISAS" ("INS_BORDERPOST") 
   LOCAL
 (PARTITION "P_BEFORE_2018" ) ;
CREATE INDEX "DL_BORDERCONTROL"."VISAS$IX02" ON "DL_BORDERCONTROL"."VISAS" ("INS_TERMINAL") 
   LOCAL
 (PARTITION "P_BEFORE_2018" ) ;
CREATE INDEX "DL_BORDERCONTROL"."VISAS$IX03" ON "DL_BORDERCONTROL"."VISAS" ("BORDERDOCUMENT") 
   LOCAL
 (PARTITION "P_BEFORE_2018" ) ;
CREATE UNIQUE INDEX "DL_BORDERCONTROL"."SYS_IL0000311899C00015$$" ON "DL_BORDERCONTROL"."VISAS" (
   LOCAL
 (PARTITION "SYS_IL_P7253" ) ;
CREATE UNIQUE INDEX "DL_BORDERCONTROL"."VISAS$PK" ON "DL_BORDERCONTROL"."VISAS" ("KEY_VALUE") 
  ;
  GRANT SELECT ON "DL_BORDERCONTROL"."VISAS" TO "DL_STAGING4PIBICS_INTF";
  GRANT SELECT ON "DL_BORDERCONTROL"."VISAS" TO "PIBICSAPP";
  GRANT SELECT ON "DL_BORDERCONTROL"."VISAS" TO "SERVAPP";
  GRANT UPDATE ON "DL_BORDERCONTROL"."VISAS" TO "DL_INTERFACE";
  GRANT DELETE ON "DL_BORDERCONTROL"."VISAS" TO "DL_INTERFACE";
  GRANT INSERT ON "DL_BORDERCONTROL"."VISAS" TO "DL_INTERFACE";
  GRANT SELECT ON "DL_BORDERCONTROL"."VISAS" TO "DL_INTERFACE";
  GRANT SELECT ON "DL_BORDERCONTROL"."VISAS" TO "DL_BLACKLIST" WITH GRANT OPTION;
  GRANT SELECT ON "DL_BORDERCONTROL"."VISAS" TO "BIO_BD";
  GRANT DELETE ON "DL_BORDERCONTROL"."VISAS" TO "DERMALOG_PROXY";
  GRANT INSERT ON "DL_BORDERCONTROL"."VISAS" TO "DERMALOG_PROXY";
  GRANT SELECT ON "DL_BORDERCONTROL"."VISAS" TO "DERMALOG_PROXY";
  GRANT UPDATE ON "DL_BORDERCONTROL"."VISAS" TO "DERMALOG_PROXY";
  GRANT SELECT ON "DL_BORDERCONTROL"."VISAS" TO "APPSUP";
  GRANT INSERT ON "DL_BORDERCONTROL"."VISAS" TO "PIBICSAPP";
  GRANT UPDATE ON "DL_BORDERCONTROL"."VISAS" TO "PIBICSAPP";
  GRANT SELECT ON "DL_BORDERCONTROL"."VISAS" TO "PIBICSDM2";
  GRANT UPDATE ON "DL_BORDERCONTROL"."VISAS" TO "APPSUP";
  GRANT SELECT ON "DL_BORDERCONTROL"."VISAS" TO "BIOAPPREPORT";
  GRANT INSERT ON "DL_BORDERCONTROL"."VISAS" TO "BIOAPPREPORT";
  GRANT UPDATE ON "DL_BORDERCONTROL"."VISAS" TO "BIOAPPREPORT";
  GRANT SELECT ON "DL_BORDERCONTROL"."VISAS" TO "BIOSUPPORT";
  GRANT UPDATE ON "DL_BORDERCONTROL"."VISAS" TO "BIOSUPPORT";
  GRANT ALTER ON "DL_BORDERCONTROL"."VISAS" TO "BIOSAADM";
  GRANT DELETE ON "DL_BORDERCONTROL"."VISAS" TO "BIOSAADM";
  GRANT INDEX ON "DL_BORDERCONTROL"."VISAS" TO "BIOSAADM";
  GRANT INSERT ON "DL_BORDERCONTROL"."VISAS" TO "BIOSAADM";
  GRANT SELECT ON "DL_BORDERCONTROL"."VISAS" TO "BIOSAADM";
  GRANT UPDATE ON "DL_BORDERCONTROL"."VISAS" TO "BIOSAADM";
  GRANT REFERENCES ON "DL_BORDERCONTROL"."VISAS" TO "BIOSAADM";
  GRANT READ ON "DL_BORDERCONTROL"."VISAS" TO "BIOSAADM";
  GRANT ON COMMIT REFRESH ON "DL_BORDERCONTROL"."VISAS" TO "BIOSAADM";
  GRANT QUERY REWRITE ON "DL_BORDERCONTROL"."VISAS" TO "BIOSAADM";
  GRANT DEBUG ON "DL_BORDERCONTROL"."VISAS" TO "BIOSAADM";
  GRANT FLASHBACK ON "DL_BORDERCONTROL"."VISAS" TO "BIOSAADM";
  GRANT SELECT ON "DL_BORDERCONTROL"."VISAS" TO "SOMPORN_K";
  GRANT SELECT ON "DL_BORDERCONTROL"."VISAS" TO "KIATTIPAT_S";
  GRANT SELECT ON "DL_BORDERCONTROL"."VISAS" TO "WORAGON_T";
  GRANT SELECT ON "DL_BORDERCONTROL"."VISAS" TO "PISAN_S";
  GRANT SELECT ON "DL_BORDERCONTROL"."VISAS" TO "PRAMUALSOOK_P";
  GRANT SELECT ON "DL_BORDERCONTROL"."VISAS" TO "CHAYA_W";
  GRANT SELECT ON "DL_BORDERCONTROL"."VISAS" TO "CHAYAWEE_O";
  GRANT SELECT ON "DL_BORDERCONTROL"."VISAS" TO "THANASET_N";
  GRANT SELECT ON "DL_BORDERCONTROL"."VISAS" TO "THASAYA_M";
  GRANT SELECT ON "DL_BORDERCONTROL"."VISAS" TO "PORNRUKSA_S";
  GRANT SELECT ON "DL_BORDERCONTROL"."VISAS" TO "SANTIPATN_P";
  GRANT SELECT ON "DL_BORDERCONTROL"."VISAS" TO "PUNYAWII_D";
