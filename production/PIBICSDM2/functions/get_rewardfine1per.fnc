CREATE OR REPLACE EDITIONABLE FUNCTION "PIBICSDM2"."GET_REWARDFINE1PER" (MM VARCHAR2,YYYY VARCHAR2) return number is 
tmp number;
begin
    begin
   SELECT REWARDFINE/(SELECT SUM(DECODE(D.DEPTLEVEL,3,1,2)) FROM HR_PROFILE_OT H,DEPARTMENT D WHERE H.DEPT_SEQNO = D.DEPT_SEQNO) INTO TMP FROM FS_FINESDUE FD WHERE ESTIMATEMONTH = MM AND ESTIMATEYEAR = YYYY;
    Exception When No_Data_Found Then Null ;
    end;
  return tmp;
end;
/
